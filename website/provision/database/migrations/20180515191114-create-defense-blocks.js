'use strict';
const fs = require('fs');

var dbm;
var type;
var seed;

/**
  * We receive the dbmigrate dependency from dbmigrate initially.
  * This enables us to not have to rely on NODE_PATH.
  */
exports.setup = function(options, seedLink) {
  dbm = options.dbmigrate;
  type = dbm.dataType;
  seed = seedLink;
};

exports.up = function(db) {
  return db.runSql(fs.readFileSync(__dirname + '/sqls/20180515171722-create-defense-blocks.sql', 'utf8'));
};

exports.down = function(db) {
  return db.runSql(`
    DELETE FROM \`block\` WHERE id IN (1204149,12012418,12012419,12012837,12012838,12012839,12012840,12012841,12012842,12012843,12012844,12012845,12013057,12013058,12013059,12013060,12013061,12013062,12013063,12013064,12013065,12013068,12013069,12013070,12013071,12013072,12013073,12013079,12013080,12013081,12013082,12013083,12013144,12013145,12013146,12013147,12013148,12013149,12013150,12013151,12013152,12013153,12013154,12013155,12013156,12013157,12013158,12013257,12013258,12013259,12013260,12013261,12013262,12013263,12013264,12013265,12013266,12013267,12013268,12013269,12013270,12013271,12013272,12013273,12013274,12013275,12013276,12013296,12013297,12013298,12013299,12013300,12013301,12013302,12013303,12013304,12013305,12013306,12013307,12013308,12013309,12013310,12013311,12013312,12013313,12013314,12013365,12013366,12013367,12013368,12013369,12013370,12013371,12013372,12013445,12013446,12013447,12013448,12013449,12013450,12013451,12013452,1201)
  `);
};

exports._meta = {
  "version": 1
};
